<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Link Share</title>
  <style>
    body { background:#000; color:#fff; font-family:Arial; max-width:700px; margin:20px auto; }
    details { margin:10px 0; }
    summary { font-size:18px; cursor:pointer; }
    a { color:#4da3ff; text-decoration:none; }
    a:hover { text-decoration:underline; }
  </style>
</head>
<body>
<h1>Link Share</h1>
<div id="content">Loadingâ€¦</div>

<script>
const JSON_URL = "links.json";

async function load() {
  try {
    const res = await fetch(JSON_URL + "?t=" + Date.now());
    const data = await res.json();
    const c = document.getElementById("content");
    c.innerHTML = "";
    data.categories.forEach(cat => {
      const d = document.createElement("details");
      const s = document.createElement("summary");
      s.textContent = cat.name;
      d.appendChild(s);
      const ul = document.createElement("ul");
      cat.links.forEach(link => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = link.url;
        a.target = "_blank";
        a.textContent = link.title || link.url;
        li.appendChild(a);
        ul.appendChild(li);
      });
      d.appendChild(ul);
      c.appendChild(d);
    });
  } catch {
    document.getElementById("content").textContent = "Failed to load links.";
  }
}
load();
</script>
</body>
</html>